"use strict";(self.webpackChunkyourname=self.webpackChunkyourname||[]).push([[9302],{70785:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(84045),r=t(79685),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},a=t(36022),c=function(e,n){return r.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:o}))};c.displayName="VerticalAlignMiddleOutlined";var s=r.forwardRef(c)},74550:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(84045),r=t(79685),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512 265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512 267.1 157.9A7.95 7.95 0 00254 164z"}}]},name:"vertical-left",theme:"outlined"},a=t(36022),c=function(e,n){return r.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:o}))};c.displayName="VerticalLeftOutlined";var s=r.forwardRef(c)},49302:function(e,n,t){t.r(n),t.d(n,{Condition:function(){return P},ContextMenu:function(){return ne},DragLayoutResize:function(){return g},Marquee:function(){return w},useAudio:function(){return pe},useContextMenu:function(){return ie}});var i,r,o=t(86378),a=t.n(o),c=t(24047),s=t.n(c),u=t(96048),l=t(74550),d=t(70785),v=t(79685),p=t(63342),f={LEFT_RIGHT:"LEFT_RIGHT",TOP_BUTTOM:"TOP_BUTTOM",RIGHT_LEFT:"RIGHT_LEFT",BUTTOM_TOP:"BUTTOM_TOP"},h=(i={},s()(i,f.LEFT_RIGHT,{marginLeft:10}),s()(i,f.RIGHT_LEFT,{marginRight:10}),s()(i,f.TOP_BUTTOM,{marginBottom:10}),s()(i,f.BUTTOM_TOP,{marginBottom:10}),i),m=(r={},s()(r,f.LEFT_RIGHT,{width:"7px",height:"100%",left:"-7px",top:"0px",cursor:"ew-resize"}),s()(r,f.RIGHT_LEFT,{width:"7px",height:"100%",right:"0px",top:"0px",cursor:"ew-resize"}),s()(r,f.TOP_BUTTOM,{width:"100%",height:"10px",left:"0px",bottom:"-10px",cursor:"row-resize"}),s()(r,f.BUTTOM_TOP,{width:"100%",height:"10px",left:"0px",top:"0px",cursor:"row-resize"}),r);function x(e){var n,t,i=!1,r=(0,(0,v.useContext)(u.ZP.ConfigContext).getPrefixCls)("vis-drag-layout-resize"),o=(0,v.useRef)(null),c=(0,v.useRef)(null),s=e.direction,x=e.children,g=e.style;(0,v.useLayoutEffect)((function(){var e,r,a=o.current;return n=function(){i=!1},t=function(n){if(i&&a){n.stopPropagation();var t=n.x,o=n.y,c=t-(e||t),u=o-(r||o),l=a.getBoundingClientRect(),d=l.left,v=l.top,p=l.width;c&&s===f.RIGHT_LEFT&&(a.style.width="".concat(t-d,"px")),c&&s===f.LEFT_RIGHT&&(a.style.width="".concat(p+-(t-d),"px")),!u||s!==f.BUTTOM_TOP&&s!==f.TOP_BUTTOM||(a.style.height="".concat(o-v,"px")),e=t,r=o}},document.body.addEventListener("mouseup",n),document.body.addEventListener("mousemove",t),function(){document.body.removeEventListener("mouseup",n),document.body.removeEventListener("mousemove",t)}}));var y=(0,v.useCallback)((function(e){c.current&&(c.current.style.bottom="".concat(-(null==e?void 0:e.currentTarget.scrollTop),"px"))}),[]);return(0,p.jsxs)("div",{style:a()(a()(a()({position:"relative"},h[s]),g),{},{userSelect:"none"}),ref:o,id:null==e?void 0:e.domId,onScroll:y,children:[(0,p.jsx)("div",{style:a()({},m[s]),className:"".concat(r,"-drag-line"),onMouseDown:function(){i=!0},ref:c,children:s===f.LEFT_RIGHT||s===f.RIGHT_LEFT?(0,p.jsx)(l.Z,{style:{position:"absolute",top:"calc( 50% - 5px )",left:"-3px",fontSize:"10px"}}):(0,p.jsx)(d.Z,{style:{position:"absolute",left:"calc( 50% - 5px )",top:"0px",fontSize:"10px"}})}),x]})}x.DRAG_DIRECTION=f;var g=x,y=t(30577),T=t.n(y),b="vis-comp-word-view",w=function(e){var n,t,i,r,o=e.gradientColor,c=void 0===o?[255,255,255]:o,u=e.children,l=e.direction,d=void 0===l?"left":l,f=e.play,h=void 0===f||f,m=e.gradient,x=e.gradientWidth,g=void 0===x?200:x,y=e.style,w=void 0===y?{}:y,E=e.speed,C=void 0===E?20:E,k=e.delay,R=void 0===k?0:k,S=e.loop,L=void 0===S?0:S,j=e.pauseOnHover,O=void 0!==j&&j,I=e.pauseOnClick,A=void 0!==I&&I,N=e.onCycleComplete,M=e.onFinish,Z=(0,v.useState)(0),P=T()(Z,2),z=P[0],_=P[1],B=(0,v.useState)(0),D=T()(B,2),F=D[0],H=D[1],U=(0,v.useState)(!1),V=T()(U,2),G=V[0],q=V[1],K=(0,v.useRef)(null),W=(0,v.useRef)(null);(0,v.useEffect)((function(){if(G){var e=function(){W.current&&K.current&&(_(K.current.getBoundingClientRect().width),H(W.current.getBoundingClientRect().width))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[G]),(0,v.useEffect)((function(){q(!0)}),[]);var X="rgba(".concat(c[0],", ").concat(c[1],", ").concat(c[2]),Y=F<z?z/C:F/C;return(0,p.jsx)(v.Fragment,{children:G?(0,p.jsxs)("div",{ref:K,style:a()(a()({},w),{},(n={},s()(n,"--pause-on-hover",!h||O?"paused":"running"),s()(n,"--pause-on-click",!h||O&&!A||A?"paused":"running"),n)),className:b+"-marquee-container",children:[m&&(0,p.jsx)("div",{style:(t={},s()(t,"--gradient-color","".concat(X,", 1), ").concat(X,", 0)")),s()(t,"--gradient-width","number"==typeof g?"".concat(g,"px"):g),t),className:b+"-overlay"}),(0,p.jsx)("div",{ref:W,style:(i={},s()(i,"--play",h?"running":"paused"),s()(i,"--direction","left"===d?"normal":"reverse"),s()(i,"--duration","".concat(Y,"s")),s()(i,"--delay","".concat(R,"s")),s()(i,"--iteration-count",L?"".concat(L):"infinite"),i),className:b+"-marquee",onAnimationIteration:N,onAnimationEnd:M,children:u}),(0,p.jsx)("div",{style:(r={},s()(r,"--play",h?"running":"paused"),s()(r,"--direction","left"===d?"normal":"reverse"),s()(r,"--duration","".concat(Y,"s")),s()(r,"--delay","".concat(R,"s")),s()(r,"--iteration-count",L?"".concat(L):"infinite"),r),className:b+"-marquee","aria-hidden":"true",children:u})]}):null})},E=t(5450),C=t(7501),k=t(45633),R=t(21591),S=t(22850),L=t(91957),j=t(14067),O=t(60382),I=t(32699),A=[{title:"度量",value:"0-0",children:[{title:"年龄",value:"0-0-1"},{title:"出生日期",value:"0-0-2"}]},{title:"维度",value:"0-1",children:[{title:"性别",value:"0-1-1"}]}],N=[{label:"列表选择",value:"listChoose"},{label:"开头是",value:"start"},{label:"包含",value:"include"},{label:"结尾是",value:"end"},{label:"不包含",value:"notInclude"},{label:"等于",value:"equals"},{label:"不等于",value:"unEquals"},{label:"等于空",value:"equalsNull"},{label:"不等于空",value:"unEqualsNull"}],M="vis-comp-condition-",Z={middle:"10px",large:"15px",small:"0px"},P=function(e){var n=e.initValue,t=void 0===n?{}:n,i=e.transformKey,r=void 0===i?{}:i,o=e.depth,c=void 0===o?3:o,u=e.value,l=e.treeProps,d=void 0===l?{treeData:A}:l,f=e.columnRender,h=e.operatorRender,m=e.valueRender,x=e.operatorOptions,g=void 0===x?N:x,y=e.onChange,b=e.required,w=e.condRef,P=e.isSequenceInput,z=e.size,_=void 0===z?"middle":z,B=e.defaultConnect,D=void 0===B?"AND":B,F=e.transformData,H=e.connectOptions,U=void 0===H?[{label:"AND",value:"AND"},{label:"OR",value:"OR"}]:H,V=(0,v.useRef)(!0),G=(0,v.useState)(!1),q=T()(G,2),K=q[0],W=q[1],X=(0,v.useState)(u||t),Y=T()(X,2),J=Y[0],Q=Y[1],$=(0,v.useState)({}),ee=T()($,2)[1];V.current=!0,(0,v.useEffect)((function(){u&&Q(u)}),[u]),(0,v.useEffect)((function(){(null==w?void 0:w.current)&&(w.current.validate=function(){return W(!0),{value:V.current?F?F(J):J:void 0,err:""}},w.current.resetValidate=function(){W(!1)})}),[]);var ne=function(){ee({}),y&&y(J)},te=(0,v.useCallback)((function(e,n){var t=r[n]?r[n]:n;return function(n){e[t]=n,ne()}}),[r]),ie=(0,v.useCallback)((function(e,n){return e[r[n]?r[n]:n]}),[r]),re=function(e,n){var t=0,i=ie(e,"column"),r=ie(e,"operator"),o=ie(e,"value");return!(0,I.isEmpty)(i)&&t++,!(0,I.isEmpty)(r)&&t++,!(0,I.isEmpty)(o)&&t++,t<3&&(V.current=!1),(0,p.jsxs)("div",{className:M+"sub-item",children:[(0,p.jsx)(E.Z.Item,{help:(0,I.isEmpty)(i)&&K?"字段名不能为空":void 0,validateStatus:(0,I.isEmpty)(i)&&K?"error":void 0,children:f?f(i,te(e,"column"),e):(0,p.jsx)(C.Z,a()(a()({size:_},d),{},{value:i,onChange:te(e,"column")}))}),(0,p.jsx)(E.Z.Item,{help:(0,I.isEmpty)(r)&&K?"操作符不能为空":void 0,validateStatus:(0,I.isEmpty)(r)&&K?"error":void 0,children:h?h(r,te(e,"operator"),e,t<1):(0,p.jsx)("div",{style:{margin:"0 5px"},children:(0,p.jsx)(k.Z,{placeholder:"请选择操作符",size:_,disabled:P&&t<1,value:r,onChange:te(e,"operator"),options:g,style:{width:"100%"}})})}),(0,p.jsx)(E.Z.Item,{help:(0,I.isEmpty)(o)&&K?"值不能为空":void 0,validateStatus:(0,I.isEmpty)(o)&&K?"error":void 0,children:m?m(o,te(e,"value"),e,t<2):(0,p.jsx)(R.Z,{placeholder:"多个请用英文下的,隔开",style:{flex:1},size:_,disabled:P&&t<2,value:o,onChange:function(n){return te(e,"value")(n.target.value)}})}),(0,p.jsx)(O.Z,{style:{margin:"10px 5px",cursor:"pointer"},onClick:function(){S.Z.confirm({title:"提示",content:"该操作会删除该条件，是否继续？",onOk:n})}})]})};return function e(n,t){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;return(0,p.jsxs)("div",{style:s()({},"--vis-size",Z[_]),className:t?M+"item-wrap-child":M+"item-wrap",children:[(0,p.jsxs)("div",{className:M+"header-filter",children:[t&&(0,p.jsx)(O.Z,{className:M+"icon-close",onClick:function(){S.Z.confirm({title:"提示",content:"该操作会删除该分组，是否继续？",onOk:o})}}),(0,p.jsx)(k.Z,{placeholder:"请选择",defaultValue:D,value:ie(n,"connect"),className:M+"condition-select",options:U,onChange:te(n,"connect"),size:_}),(0,p.jsxs)("span",{className:M+"rg-btn-wrap",children:[(0,p.jsx)(L.Z,{type:"link",size:_,onClick:function(){var e;if(b&&!V.current)return j.ZP.info("请先输入相关参数后再试!"),void W(!0);ie(n,"exprs")||te(n,"exprs")([]),null===(e=ie(n,"exprs"))||void 0===e||e.push({}),ne()},children:"+字段条件"}),r<c&&(0,p.jsx)(L.Z,{type:"link",size:_,onClick:function(){var e;if(b&&!V.current)return j.ZP.info("请先输入相关参数后再试!"),void W(!0);var t={connect:"AND"};te(t,"exprs")([]),ie(n,"exprs")||te(n,"exprs")([]),null===(e=ie(n,"exprs"))||void 0===e||e.push(t),ne()},children:"+逻辑组"})]})]}),null===(i=ie(n,"exprs"))||void 0===i?void 0:i.map((function(t,i){var o=function(){var e;null===(e=ie(n,"exprs"))||void 0===e||e.splice(i,1),ne()};return ie(t,"exprs")?e(t,!0,r+1,o):(0,p.jsx)("div",{className:M+"body-filter",children:re(t,o)})}))]})}(J,!1,1)},z=t(28488),_=t.n(z),B=t(50374),D=t(90967),F=t.n(D),H=t(58357),U=t.n(H),V=t(71977),G=t.n(V);function q(e){var n=e.children,t=e.prevRects,i=e.depth,r=(0,v.useState)({position:"absolute",left:"100%",top:"0",zIndex:i}),o=T()(r,2),c=o[0],s=o[1],u=(0,v.createRef)();return t[i]=function(){return u.current},(0,v.useLayoutEffect)((function(){var e,n,r,o=null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect(),l=o&&(r={left:!1,top:!1,bottom:!1,right:!1},0>(n=o).left&&(r.left=!0),0>n.top&&(r.top=!0),window.innerWidth<n.right&&(r.right=n.right-window.innerWidth),window.innerHeight<n.bottom&&(r.bottom=n.bottom-window.innerHeight),r),d={transform:""};if(null!=l&&l.right){var v=0;i<=1?(t.forEach((function(e,n){var i;n!==t.length-1&&(v+=(null==e||null===(i=e())||void 0===i?void 0:i.getBoundingClientRect().width)||0)})),d.transform+="translateX(calc( -100% - ".concat(v,"px ))")):d.left=10}null!=l&&l.bottom&&(d.transform+="translateY(-".concat(l.bottom+10*i,"px )")),((null==l?void 0:l.right)||(null==l?void 0:l.bottom))&&s(a()(a()({},c),d))}),[]),(0,p.jsx)("ul",{className:Y+"wrap",style:c,ref:u,children:v.Children.map(n,(function(e){return v.cloneElement(e,{prevRects:t})}))})}var K=t(14678),W=(0,v.memo)((function(e){var n,t,i=e.item,r=e.curData,o=e.onClick,c=e.prevRects,s=e.depth,u=e.loadding,l=e.setMenuVisible,d=(0,v.useState)(!1),f=T()(d,2),h=f[0],m=f[1],x=(0,v.useState)(!1),g=T()(x,2),y=g[0],b=g[1];return(0,p.jsx)("li",{className:i.disabled?Y+"disabled":"",onClick:function(e){i.onClick&&i.onClick(e,i,r.current),s>=1&&e.stopPropagation(),i.children||(!i.disabled&&o(e,null==r?void 0:r.current,i),l(!1))},tabIndex:-1,onMouseEnter:function(){var e=G()(U()().mark((function e(n){var t;return U()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),b(!0),"function"!=typeof i.children){e.next=9;break}return m(!0),e.next=6,i.children(i,r.current);case 6:t=e.sent,i.children=t,(0,v.startTransition)((function(){m(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onMouseLeave:function(){b(!1)},children:(0,p.jsxs)("div",{className:Y+"sitem",children:[(0,p.jsx)("span",{className:Y+"icon",children:i.icon}),(null===(n=i.render)||void 0===n?void 0:n.call(i,i))||i.label,h?(0,v.cloneElement)(u,{className:Y+"arrow"}):i.children&&(0,p.jsx)(K.Z,{className:Y+"arrow"}),!h&&y&&i.children&&Array.isArray(i.children)&&!i.disabled&&(0,p.jsx)(q,a()(a()({},e),{},{prevRects:F()(c),children:null===(t=i.children)||void 0===t?void 0:t.map((function(n){return(0,p.jsx)(W,a()(a()({},e),{},{item:n,depth:s+1}))}))}))]})})})),X=W,Y="vis-comp-context-menu-",J=function(e){var n=e.onClick,t=e.menus,i=e.curItem,r=e.prevRects,o=void 0===r?[]:r,c=e.depth,s=void 0===c?0:c,u=e.loadding,l=e.setMenuVisible;return(0,v.useMemo)((function(){return(0,p.jsx)(q,a()(a()({},e),{},{depth:s,prevRects:o,children:t.map((function(e){return(0,p.jsx)(X,{loadding:u,item:e,curData:i,onClick:n,prevRects:o,depth:s+1,setMenuVisible:l},e.value)}))}))}),[n,t,u])};J.Item=X;var Q,$,ee,ne=J,te=["children","data","getEl","style","tag","handle"],ie=function(e){var n=e||{},t=n.event,i=void 0===t?"contextmenu":t,r=n.getMenuContainer,o=(0,v.useRef)(),c=(0,v.useState)({x:0,y:0}),s=T()(c,2),u=s[0],l=s[1],d=(0,v.useState)(!1),f=T()(d,2),h=f[0],m=f[1];return{setMenuVisible:m,Trigger:function(e){var n=e.children,t=e.data,c=e.getEl,s=e.style,u=e.tag,d=void 0===u?"div":u,p=e.handle,f=_()(e,te),h=(0,v.createRef)();return(0,v.useLayoutEffect)((function(){var e=function(e){e.stopPropagation(),e.preventDefault(),o.current=t;var n=null==r?void 0:r(),i=(null==n?void 0:n.getBoundingClientRect())||{left:0,top:0},a=i.left,c=i.top;l({x:n?e.clientX-a:e.clientX,y:n?e.clientY-c:e.clientY}),p&&p(e,t),m(!0)},n=(null==c?void 0:c())||h.current;return null==n||n.addEventListener(i,e),function(){null==n||n.removeEventListener(i,e)}}),[]),v.createElement(d,a()(a()({},f),{},{ref:h,style:s}),n)},ContextMenu:function(e){var n,t,i=e.menus,a=e.onClick,c=void 0===a?function(){}:a,s=e.loadding,l=void 0===s?(0,p.jsx)("span",{}):s;(0,v.useLayoutEffect)((function(){var e=function(){m(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]);var d=(0,p.jsx)("div",{tabIndex:0,style:{left:null!==(n=u.x)&&void 0!==n?n:0,top:null!==(t=u.y)&&void 0!==t?t:0,display:h?"block":"none",position:r?"absolute":"fixed",zIndex:"999"},children:(0,p.jsx)(ne,{menus:i,onClick:c,curItem:o,loadding:l,setMenuVisible:m})});return null!=r&&r()?(0,B.createPortal)(d,r()):d}}},re=window.AudioContext,oe={},ae={ADUIO:Symbol("ADUIO"),SPEAK:Symbol("SPEAK")};function ce(e){var n=e.buffer,t=e.audioCtx,i=e.source,r=e.loop,o=e.src;return!i&&(i=t.createBufferSource()),i.loop=r,i.buffer=n,i.connect(t.destination),i.start(),ee=t,i.onended=function(){oe[o].isFinished=!0},i}function se(e){var n=e.speakText,t=e.statusChange,i=e.loop;!i&&$&&$.removeEventListener("end",Q),ee&&"closed"!==ee.state&&ee.suspend(),speechSynthesis.speaking?(speechSynthesis.pause(),t&&t("SUSPEND"),$&&$.removeEventListener("end",Q),window.speechSynthesis.cancel()):(window.speechSynthesis.cancel(),t&&t("START"),$=new SpeechSynthesisUtterance(n),Q=function(){window.speechSynthesis.speak($)},window.speechSynthesis.speak($),i&&$.addEventListener("end",Q))}function ue(e){for(var n in oe){if(n!==e)oe[n].audioCtx.suspend();else ee=oe[n].audioCtx}speechSynthesis.pause()}function le(e){var n=e.el,t=e.src,i=e.speakText,r=e.loop,o=e.auto,a=e.statusChange,c=e.type;if(ue(t),t&&"AUDIO"===c){var s=new Request(t);fetch(s).then(G()(U()().mark((function i(){var c;return U()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c=new re,n.handler=G()(U()().mark((function n(){var i,u,l,d,v,p,f;return U()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=oe[t])){n.next=19;break}if(u=i.audioCtx,l=i.isFinished,d=i.source.context.state,!l&&"suspended"!==d){n.next=17;break}return a&&a("RESTART",e),u.close(),v=new re,n.next=10,fetch(s);case 10:return p=n.sent,n.next=13,p.arrayBuffer();case 13:f=n.sent,v.decodeAudioData(f,(function(e){oe[t]={audioCtx:v,source:ce({buffer:e,audioCtx:v,loop:r,src:t}),isFinished:!1}})),n.next=18;break;case 17:"running"===d&&(u.suspend(),a&&a("SUSPEND",e));case 18:return n.abrupt("return");case 19:c.resume().then((function(){fetch(s).then(function(){var n=G()(U()().mark((function n(i){var s;return U()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.arrayBuffer();case 2:s=n.sent,c.decodeAudioData(s,(function(n){oe[t]={audioCtx:c,audioData:i,source:ce({buffer:n,audioCtx:c,loop:r,src:t}),type:ae.ADUIO,loop:r,auto:o},a&&a("START",e),ue(t)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}));case 20:case"end":return n.stop()}}),n)}))),!o&&n||n.handler(),n&&n.addEventListener("click",n.handler);case 4:case"end":return i.stop()}}),i)}))))}else i&&"SPEAK"===c&&(window.speechSynthesis.cancel(),n&&(n.handler=function(){se({speakText:i,statusChange:a,loop:r})}),!o&&n?n.addEventListener("click",n.handler):(a&&a("START"),se({speakText:i,statusChange:a,loop:r}),n&&n.addEventListener("click",n.handler)))}function de(){$&&$.removeEventListener("end",Q),ee&&"closed"!==ee.state&&ee.suspend(),window.speechSynthesis.cancel()}le.closeAllVoice=de;var ve={bind:function(e,n){var t=n.type,i=n.src,r=n.speakText,o=n.loop,a=void 0!==o&&o,c=n.auto,s=n.statusChange;(i||r)&&le({el:e,src:i,speakText:r,loop:a,auto:c,statusChange:s,type:t})},unbind:function(e){e.removeEventListener("click",e.handler)},update:function(e,n){var t=n.oldValue,i=t.loop,r=t.type,o=t.speakText,a=t.src,c=t.auto,s=n.value,u=s.type,l=s.src,d=s.speakText,v=s.loop,p=void 0!==v&&v,f=s.auto,h=s.statusChange;if(d||l){if(p===i){if(d&&"SPEAK"===u&&u===r&&f===c&&o===d)return;if(l&&"AUDIO"===u&&u===r&&f===c&&l===a)return}de(),e.removeEventListener("click",e.handler),le({el:e,src:l,speakText:d,loop:p,auto:f,statusChange:h,type:u})}},__initFn:le},pe=function(e,n){(0,v.useLayoutEffect)((function(){return n&&e.current&&ve.bind(e.current,n),function(){n&&e.current&&ve.unbind(e.current)}}),[n])}}}]);